<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>copasPDF</title>

	<!-- CSS -->
	<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="http://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css">

	<!-- Script -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
	<script src="https://cdn.tiny.cloud/1/qgpw4ae3zz5qfpbdb1kfwk5c0nqu2kgu4qyjbssksjtwiczm/tinymce/5/tinymce.min.js" referrerpolicy="origin"></script>
</head>
<body style="margin: 3rem auto;" class="d-flex justify-content-center">
	<div class="col-12 col-md-8 col-lg-6">
		Text <hr class="mb-0 mt-1" />
		<div class="col-12 nopadding">
			<textarea name="text" id="text"></textarea><br/>
		</div>
		<button name="gas">Proses</button>
		<button id="reset">Reset</button><br/><br/>

		Output
		<hr/>
		<div id="copy">Belum ada text</div>
		<button id="btn-copy">Copy</button>
	</div>

	<!-- Custom -->
	<script type="text/javascript">
		// $("#text").Editor(); 
		tinymce.init({
	      selector: 'textarea#text',
	      plugins: 'a11ychecker advcode casechange export formatpainter linkchecker autolink lists checklist media mediaembed pageembed permanentpen powerpaste table advtable tinycomments tinymcespellchecker',
	      toolbar: 'a11ycheck addcomment showcomments casechange checklist code export formatpainter pageembed permanentpen table',
	      toolbar_mode: 'floating',
	      tinycomments_mode: 'embedded',
	      tinycomments_author: 'Author name',
	    });

		function copyToClipboard(element) {
		  var $temp = $("<input>");
		  $("body").append($temp);
		  $temp.val($(element).text()).select();
		  document.execCommand("copy");
		  $temp.remove();
		}

		$("button[name='gas']").click(function(){
			var text = $("#tinymce").html();
			$("#copy").html(text.replaceAll("<br role=\"presentation\">", " ").trim());
		});

		$("#reset").click(function(){
			$("#text").html('');
		});

		$("#btn-copy").click(function(){
			copyToClipboard("#copy");
		});
	</script>
</body>
</html>